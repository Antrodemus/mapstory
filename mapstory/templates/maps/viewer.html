<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="{{ STATIC_URL }}mapstory/css/ol.css" type="text/css">
<link rel="stylesheet" href="{{ STATIC_URL }}mapstory/vis/dist/vis.min.css" type="text/css"/>
<link rel="stylesheet" href="{{ STATIC_URL }}vendor/nouislider/distribute/jquery.nouislider.min.css" type="text/css">

<script src="{{ STATIC_URL }}mapstory/js/angular.js" ></script>
<script src="{{ STATIC_URL }}mapstory/js/jquery.min.js"></script>
<script src="{{ STATIC_URL }}mapstory/js/jquery.nouislider.min.js" type="text/javascript"></script>
<script src="{{ STATIC_URL }}mapstory/js/ui-bootstrap-tpls.js"></script>
<script src="{{ STATIC_URL }}mapstory/js/bootstrap-colorpicker-module.js"></script>

<script src="{{STATIC_URL}}mapstory/js/story-tools/ol.js"></script>
<script src="{{STATIC_URL}}mapstory/js/story-tools/story-tools-core-tpls.js"></script>
<script src="{{STATIC_URL}}mapstory/js/story-tools/story-tools-core.js"></script>
<script src="{{STATIC_URL}}mapstory/js/story-tools/story-tools-core-ng.js"></script>
<script src="{{STATIC_URL}}mapstory/js/story-tools/ows.min.js"></script>
<script src="{{STATIC_URL}}mapstory/js/story-tools/story-tools-mapstory.js"></script>


{% include 'maps/viewer.js' %}
<script src="http://localhost:35729/livereload.js"></script>
<style type="text/css">
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
    }

    #container {
        display: table;
        height: 100%;
        width: 100%;
    }

    #main {
        display: table-row;
        width:100%;
        height: 100%;
    }

    .noUi-handle{
        background-color: black;
    }

    #footer {
        display: table-row;
        background-color: #ccc;
    }
    #content {
        display: table;
        width:100%;
        height: 100%;
        overflow: auto;
        position: relative;
    }
    #middle{
        display: table-cell;
    }
    .floating-below * {
        z-index: 400;
    }
    #map {
        width: 100%;
        height: 100%;
        position: absolute;
        /* Note: Padding may need adjusting */
        padding-top: 60px;
    }
    .ol-zoom {
        right: .5em;
        left: auto;
        top:3.5em;
    }
    .ol-attribution {
        top: 7.5em;
        bottom: auto;
    }
    #time-controls-panel2 {
        padding: 1px 16px;
    }

    #storyHeader{
        height: 54px;
        color: white;
        padding: 8px;
        width: 100%;
        position: absolute;
        top: 61px;
        background: rgba(0, 0, 0, 0.7);
        z-index: 9999;
    }

    #storyTitle{
        font-weight: 600;

    }

    #storyAuthor{
        font-size: small;
    }

</style>
<div ng-app="viewer" ng-controller="viewerController as viewer"id="container">
    <div id="main">
        <div id="content">
            <div id="middle">
                <div id="storyHeader">
                    <div id="storyTitle" ng-bind="storyTitle"></div>
                    <div id="storyAuthor" ng-bind="storyAuthor"></div>
                </div>
                <div id="map"></div>
            </div>
        </div>
    </div>
    <div id="footer" class='floating-below' ng-show="timeControlsManager.timeControls">
        <div id="time-controls-panel2">
            <div id="slider"></div>
            <div class="navbar" style="margin:5px 0 0; min-height: auto" ng-controller="tileProgressController">
                <st-playback-controls class="pull-left" time-controls="timeControlsManager.timeControls"></st-playback-controls>
                <progressbar animate="false" style="width: 15%; margin:6px 0; font-size:14px" class="navbar-nav navbar-right" value="tilesLoadedProgress"><b ng-if="tilesLoaded" ng-bind="tilesLoaded + '/' + tilesToLoad" style="color:black"></b></progressbar>
            </div>
            <div id="timeline"></div>
        </div>
    </div>
</div>