{% extends "site_base.html" %}
{% load webdesign %}
{% load i18n %}
{% load staticfiles %}
{% load base_tags %}
{% load mapstory_tags %}
{% load cache %}

{% block extra_head %}
<!--<link href="{{ STATIC_URL }}vendor/isotope/css/style.css" rel="stylesheet" />-->
<link href="{{ STATIC_URL }}mapstory/css/index.css" rel="stylesheet" />
{% endblock %}

{% block extra_script %}
<script type="text/javascript" src="{{ STATIC_URL }}vendor/modernizr/modernizr.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}vendor/jquery.stellar/jquery.stellar.min.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}vendor/isotope/jquery.isotope.min.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}mapstory/js/index.js"></script>
{% endblock %}

{% block middle %}

    <section id="topParallax">
        <div data-stellar-background-ratio="0.5" data-stellar-vertical-offset="0" style="background-image: url({{ images|by_name:'Africa' }}); height: 600px;"></div>
    </section>

    <section class="slice" id="welcome">
        <div class="container">
            <div class="row" style="padding-top:-10px;">
                <div class="col-sm-12">
                    <h1 class="text-center">The atlas of change that everyone can edit.</h1>
                </div>
            </div>
            <div class="row" style="padding-top: 5px;">
                <div class="input-group col-sm-6 col-sm-offset-3">
                    <!-- TODO: Need to make this functional -->
                    <input class="form-control " id="appendedInput" type="text" placeholder="Explore MapStories and StoryLayers" style="color:chocolate;background-color:whitesmoke;border:1px solid white">
                    <span class="input-group-addon" style="background-color:chocolate;color:white;border:1px solid white"><i class="fa fa-search"></i></span>
               </div>
            </div>
            <div class="row links" style="padding-top:15px;padding-bottom:5px;">
                <div class="col-sm-3">
                    <h3>
                        <a href="{% url 'account_signup' %}">
                            Sign up now
                        </a>
                    </h3>
                </div>
                <div class="col-sm-3">
                    <h3>
                        <a href="{% url 'layer_upload' %}">
                            Upload StoryLayers
                        </a>
                    </h3>
                </div>
                <div class="col-sm-3">
                    <h3>
                        <a href="{% url 'story_create' %}">
                            Create MapStories
                        </a>
                    </h3>
                </div>
                <div class="col-sm-3">
                    <h3>
                        <a href="#">
                            Learn more
                        </a>
                    </h3>
                </div>
            </div>
            <div class="row" style="padding-bottom:5px;">
                <div class="localscroll" style="text-align:center">
                    <!-- TODO: Link to mapstories is the section that doesn't exist yet -->
                    <a href="#mapstories" class="btn btn-circle btn-sm btn-default" style="background-color:#BD5E1B;color:white;border:1px solid transparent;border-radius:25%">
                    <i class="icon-down"></i></a>
                </div>
            </div>
        </div>
    </section>

    <!-- TODO: Implement the functionality of this section -->
    <section class="slice" id="mapstories">
        <div class="container">
            <nav id="filter" class="col-md-12 text-center" style="text-align:center">
                <ul class="nav nav-tabs" >
                    <!-- Crisis, Geopolitics, Science & Industry, Human Settlement, Culture & Ideas, Nature & Environment, Health, Biology -->
                    <li><a href="" class="btn btn-filter btn-sm">All MapStories</a></li>
                    <li><a href="" class="btn btn-filter btn-sm">Crisis</a></li>
                    <li><a href="" class="btn btn-filter btn-sm">Geopolitics</a></li>
                    <li><a href="" class="btn btn-filter btn-sm">Science & Industry</a></li>
                    <li><a href="" class="btn btn-filter btn-sm">Human Settlement</a></li>
                    <li><a href="" class="btn btn-filter btn-sm">Culture & Ideas</a></li>
                    <li><a href="" class="btn btn-filter btn-sm">Nature & Environment</a></li>
                    <li><a href="" class="btn btn-filter btn-sm">Health</a></li>
                    <li><a href="" class="btn btn-filter btn-sm">Biology</a></li>
                </ul>
            </nav>
            <!-- depending on the button clicked, need to query for different categories (not yet implemented)
                 Format:
                 [ Image ]
                 description
                 read more (links to page for this data presumably) -->
        </div>
    </section>

    <section class="parallax">
        <div data-stellar-background-ratio="0.5" data-stellar-vertical-offset="0" style="background-image: url({{ images|by_name:'Parallax1' }});"></div>
    </section>

    <section class="slice" id="getinvolved">
        <div class="container">
            <div class="row">
                <div class="col-sm-8">
                    <div class="row" style="padding:20px">
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/initiative.jpeg' %}">
                            <h5 class="text-center">Host a Channel</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/share.jpg' %}">
                            <h5 class="text-center">Launch an Initiative</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/launch.jpg' %}">
                            <h5 class="text-center">Share your Skills</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/edit.jpg' %}">
                            <h5 class="text-center">Become an Editor</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/chapter.jpg' %}">
                            <h5 class="text-center">Found a Chapter</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/code.jpg' %}">
                            <h5 class="text-center">Code for MapStory</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/initiative.jpeg' %}">
                            <h5 class="text-center">Organize an Event or Training</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/edit.jpg' %}">
                            <h5 class="text-center">Become a Sponsor</h5>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div class="csection-text">
                        <h1>Get Involved</h1>
                        <h3>Join with your neighbors, or collaborators on another continent, to launch initiatives, help others, write code and govern the mapstory.org platform. Weâ€™re a community, not a company.
                        </h3>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="parallax">
        <div data-stellar-background-ratio="0.5" data-stellar-vertical-offset="0" style="background-image: url({{ images|by_name:'Parallax2' }});"></div>
    </section>
                
    <section class="slice" id="getskills">
        <div class="container">
                <h1>Get Skills</h1>
                <h3>MapStory is for everyone, not just web developers and GIS experts. We work hard to get you the help you need to improve and succeed.
                </h3>
            <br/>
            <div class="row">
                <div class="col-sm-4">
                    <img class="rdphoto" src="{% remote_content 'mockup_img/students.jpg' %}">
                    <h2>1. MapStory 101</h2>
                    <h5>Learn all the basic skills you need to start collecting data and creating MapStories of your own.</h5>
                </div>
                <div class="col-sm-4">
                    <img class="rdphoto" src="{% remote_content 'mockup_img/students.jpg' %}">
                    <h2>2. MapStory Wiki</h2>
                    <h5>Find and share more resources alongside the global MapStory community.</h5>
                </div>
                <div class="col-sm-4">
                    <img class="rdphoto" src="{% remote_content 'mockup_img/students.jpg' %}">
                    <h2>3. Help Center</h2>
                    <h5>Ask questions, find answers, and help others.</h5>
                </div>
                </div>
        </div>
    </section>

    <section class="parallax">
        <div data-stellar-background-ratio="0.5" data-stellar-vertical-offset="0" style="background-image: url({{ images|by_name:'Parallax3' }});"></div>
    </section>
                
    <section class="slice" id="thinkers">
        <div class="container">
            <div class="row">
                <div class="col-sm-8">
                    <div class="row" style="padding:20px">
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/avatar.jpg' %}">
                            <h5 class="text-center">Mafalda Hopkirk</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/avatar.jpg' %}">
                            <h5 class="text-center">Lee Jordan</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/avatar.jpg' %}">
                            <h5 class="text-center">Millicent Bullstrode</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/avatar.jpg' %}">
                            <h5 class="text-center">Penelope Clearwater</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/avatar.jpg' %}">
                            <h5 class="text-center">Nymphadora Tonks</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/avatar.jpg' %}">
                            <h5 class="text-center">Remus Lupin</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/avatar.jpg' %}">
                            <h5 class="text-center">Seamus Finnigan</h5>
                        </div>
                        <div class="col-sm-3 photobox">
                            <img class="rdphoto" src="{% remote_content 'mockup_img/avatar.jpg' %}">
                            <h5 class="text-center">Xenophilius Lovegood</h5>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4">
                    <h1>Thinkers and Thoughts</h1>
                    <h3>The latest insights from leading MapStorytellers. For more, visit the <a href="/diary">Community Journal</a>
                    </h3>
                </div>
            </div>
        </div>
    </section>

    <section class="parallax">
        <div data-stellar-background-ratio="0.5" data-stellar-vertical-offset="0" style="background-image: url({{ images|by_name:'Parallax1' }});"></div>
    </section>

    <section class="slice" id="news">
        <div class="csection">
            <div class="row">
                <h1 class="text-center">MapStory projects making the news</h1>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <a class="twitter-timeline" href="https://twitter.com/MapStory" data-widget-id="517343764738621440">Tweets by @MapStory</a>
                    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
                </div>
                <div class="col-sm-8">
                    {% for item in news_items %}
                    <h3><strong>{{ item.title }}</strong> <small class="pull-right">{{ item.date }}</small></h3>
                    <hr>
                    {{ item.html|safe  }}
                    {% empty %}
                    <p>No News Items. Add <a href="{% url 'admin:mapstory_newsitem_add' %}">some</a>
                    {% endfor %}
                </div>
            </div>
            <!-- TODO: What was this supposed to be?
            <div class="row">
                <div class="qlink-right qlink-fb">[p_a_g_i_n_a_t_i_o_n l_i_n_k_s h_e_r_e]</div>
            </div>
            -->
        </div>
    </section>

    <section class="parallax">
        <div data-stellar-background-ratio="0.5" data-stellar-vertical-offset="0" style="background-image: url({{ images|by_name:'Parallax2' }});"></div>
    </section>

    <section class="slice" id="sponsors">
        <div class="container">
            <div class="row">
                <h1 class="text-center">Our Sponsors</h1>
                <h3 class="text-center">Learning institutions like these drive innovation in the MapStory codebase, content and community. Join them. 
                </h3>
            </div>
            <hr/>
            <div class="row">
                {% for sponsor in sponsors %}
                <div class="col-sm-2">
                    <img class="rdphoto" src="{{ sponsor.url }}" alt="{{ sponsor.name }} - {{ sponsor.description }}">
                </div>
                {% empty %}
                <p>No Sponsors. Add <a href="{% url 'admin:mapstory_sponsor_add' %}">some</a>
                {% endfor %}
            </div>
        </div>
    </section>

    <section class="parallax">
        <div data-stellar-background-ratio="0.5" data-stellar-vertical-offset="0" style="background-image: url({{ images|by_name:'Parallax3' }});"></div>
    </section>

{% endblock %}
